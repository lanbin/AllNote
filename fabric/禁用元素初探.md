在工作中遇到一个问题：

**需要前后添加两个元素，调整完第一个元素之后锁定状态（使其不能被选中），再添加第二个。**

## 解题

### 道理是这个道理

按照道理来说，将之前添加的元素进行保存，然后设置其`selectable`属性为`false`就可以了。

```javascript
// imageObj举例为第一个加入的元素，为加载的一张图片
var firstObj = imageObj

// some code...
// 设置元素不能操作
firstObj.selectable = false
```

但是无论怎么设置，都不行。

### 正常解决方式

Google了无数的结果，讲的都是上面的最后一句！我当然知道最后一句是有用的，但是为什么我用起来就没用呢。

### 自己尝试

继续自己尝试下，发现当第二个元素被加入到canvas之后，第一个元素竟然成功的不能被选择和操作了。
那这么就说明：

- 要么就是延时生效
- 要么就是一定要出现第二个才能让第一个禁用生效。

总之，它是可以生效的。那代码设置是没问题的。

在追查延时生效时，发现如果第一个元素加载完成之后如果我不去点击它，那么在我需要的时候，它能够立马生效变成无法被选择。
如果我在那行代码调用前选择了第一个元素，那么再去对它进行设置则一定不行。

所以，结论应该是它不能被选中。这也间接的验证了第二个假设，因为加载第二个之后，第二个元素会被自动变为选中，所以第一个元素的禁用就生效了。

### 查看文档

fabric的文档大概就是垃圾吧。

在文档里面以关键词`active`搜索，搜到了`discardActiveObject`方法，能够将当前的激活的元素放弃。

这就是正是我所要的，增加上这一行。

问题解决。


## 后话

差点动了凡心去看Fabric的源码，其实也是看了一点点。按照关键字`active`搜索。想说的是，源码比文档好懂。

网络上对于fabric的使用介绍少之又少，要不是...我才不会...。

